

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6. API 규격 &mdash; RUUT 1.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="5. 메시지 포맷" href="format.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> RUUT
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. RUUT</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">2. 주요 기능</a></li>
<li class="toctree-l1"><a class="reference internal" href="skt.html">3. RUUT 서비스 가이드</a></li>
<li class="toctree-l1"><a class="reference internal" href="tpeg.html">4. RUUT TPEG 서비스 가이드</a></li>
<li class="toctree-l1"><a class="reference internal" href="format.html">5. 메시지 포맷</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6. API 규격</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#geo-filtering">6.1. Geo Filtering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">6.1.1. Geo Filtering 파라미터 리스트</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">6.1.2. Geo Filtering 제한 사항</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">6.1.3. Geo Filtering 예제</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ruut">6.2. RUUT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#segment">6.2.1. Segment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#segment-request-parameters">6.2.1.1. Segment Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#segment-response-elements">6.2.1.2. Segment Response Elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#segment-request-response-example">6.2.1.3. Segment Request/Response Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#incident">6.2.2. Incident</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#request-parameters">6.2.2.1. Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#response-elements">6.2.2.2. Response Elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#request-response-example">6.2.2.3. Request/Response Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v2x">6.3. V2X</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v2x-webhook">6.3.1. V2X Webhook 관리</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#webhook-url">6.3.1.1. Webhook URL 등록</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">6.3.1.2. Webhook URL 조회</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">6.3.1.3. Webhook URL 삭제</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v2x-incoming-webhook">6.3.2. V2X Incoming Webhook 명세</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">6.3.2.1. 응급 차량 목적지 (재난지) 정보 알림</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">6.3.2.2. 응급 차량 이동 알림</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">6.3.2.3. 급정거 알림 및 기타 V2X 이벤트 알림</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ruut-tpeg">6.4. RUUT TPEG</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tpeg2">6.4.1. TPEG2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#request-parameters-tpeg2">6.4.1.1. Request Parameters (TPEG2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#response-formats-tpeg2">6.4.1.2. Response Formats (TPEG2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">6.4.1.3. Request/Response Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#errors">6.5. Errors</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RUUT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>6. API 규격</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api">
<h1>6. API 규격<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<p class="table-width-fix" id="apidoc"><strong>Endpoint</strong></p>
<ul class="simple">
<li><p>RUUT 교통 정보 : <cite>/ruut/version/segments</cite></p></li>
<li><p>RUUT 이벤트 정보 : <cite>/ruut/version/incidents</cite></p></li>
<li><p>RUUT TPEG : <cite>/ruut/version/tpeg</cite></p></li>
</ul>
<div class="section" id="geo-filtering">
<span id="geofilter"></span><h2>6.1. Geo Filtering<a class="headerlink" href="#geo-filtering" title="Permalink to this headline">¶</a></h2>
<p>지도 상의 영역을 지정하고 해당 영역 내에 포함되는 데이터만 추출하는 데 사용합니다. 인증, V2X를 제외한 모든 RUUT 플랫폼 기능의 필수 파라미터 입니다. Geo Filtering 은 총 5개 종류가 제공되며 각각의 필터 타입을 규정하기 위한 파라미터를 병용 하여야 합니다.</p>
<div class="section" id="id1">
<h3>6.1.1. Geo Filtering 파라미터 리스트<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>5개의 필터는 <cite>geoFilter</cite> 파라미터의 값 영역에 명시하여 활성화 할 수 있습니다. 각각의 필터는 동시 사용이 불가합니다. 또한, 해당 필터와 병용 되어야 하는 파라미터가 추가로 명시되지 않을 경우 필터가 정상 동작하지 않습니다.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>예) <cite>/endpoint?geoFilter=box&amp;corner1={gps}&amp;corner2={gps}</cite> <a href="#id2"><span class="problematic" id="id3">*</span></a><cite>box</cite> should be combined with <cite>corner1</cite> and <cite>corner2</cite></p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 9%" />
<col style="width: 16%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Params</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>geoFilter</p></td>
<td><p>String</p></td>
<td><p>box</p></td>
<td><p>2개 gps 좌표로 이루어진 사각 영역 필터링</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>circle</p></td>
<td><p>중심 좌표(gps)와 반지름 으로 이루어진 원 영역 필터링</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>polygon</p></td>
<td><p>3개 이상의 gps 좌표로 이루어진 다각형 영역 필터링 (8개 좌표 이내)</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>pos</p></td>
<td><p>1개 gps 좌표에서 가장 가까운 세그먼트 필터링 (250미터 이내)</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>centerpointBox</p></td>
<td><p>1개 gps 좌표를 무게중심으로 하는 사각형 영역 필터링</p></td>
</tr>
<tr class="row-odd"><td><p>corner1</p></td>
<td><p>String</p></td>
<td><p>gps 좌표</p></td>
<td><p><cite>box</cite> 필터의 대각 gps 좌표 (<cite>corner2</cite> 와 쌍)</p></td>
</tr>
<tr class="row-even"><td><p>corner2</p></td>
<td><p>String</p></td>
<td><p>gps 좌표</p></td>
<td><p><cite>box</cite> 피렅의 대각 gps 좌표 (<cite>corner1</cite> 과 쌍)</p></td>
</tr>
<tr class="row-odd"><td><p>center</p></td>
<td><p>String</p></td>
<td><p>gps 좌표</p></td>
<td><p><cite>circle</cite> or <cite>centerpointBox</cite> 필터의 중심 좌표</p></td>
</tr>
<tr class="row-even"><td><p>radius</p></td>
<td><p>Integer</p></td>
<td><p>radius</p></td>
<td><p><cite>circle</cite> 필터의 반지름 (미터)</p></td>
</tr>
<tr class="row-odd"><td><p>height</p></td>
<td><p>Integer</p></td>
<td><p>height</p></td>
<td><p><cite>centerpointBox</cite> 필터의 세로 값 (미터)</p></td>
</tr>
<tr class="row-even"><td><p>width</p></td>
<td><p>Integer</p></td>
<td><p>width</p></td>
<td><p><cite>centerpointBox</cite> 필터의 가로 값 (미터)</p></td>
</tr>
<tr class="row-odd"><td><p>points</p></td>
<td><p>String</p></td>
<td><p>gps 좌표 리스트</p></td>
<td><p><cite>polygon</cite> 필터의 gps 좌표. 파이프 기호로 구분된 목록</p></td>
</tr>
<tr class="row-even"><td><p>point</p></td>
<td><p>String</p></td>
<td><p>gps 좌표</p></td>
<td><p><cite>pos</cite> 필터의 gps 좌표</p></td>
</tr>
<tr class="row-odd"><td><p>regionId</p></td>
<td><p>Integer</p></td>
<td><p>지역코드</p></td>
<td><p>행정 구역 단위 필터링을 위한 지역 코드 <a class="footnote-reference brackets" href="#id13" id="id4">1</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id5">
<h3>6.1.2. Geo Filtering 제한 사항<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Geo filtering 은 파라미터 규칙 외 필터 성능 최적화 및 사용성 강화를 위한 제한 사항이 포함 됩니다.</p>
<ul class="simple">
<li><p>탐색을 요청하는 도로 등급에 따라 제한이 적용 됩니다 (<cite>circle/box</cite> 필터 기준)</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>FRC 레벨 == 0 (고속도로) : 반지름 및 가로/세로 200km 이내 제한</p></li>
<li><p>0 &lt; FRC 레벨 &lt; 3 (국도, 고속화도로) : 반지름 및 가로/세로 100km 이내 제한</p></li>
<li><p>2 &lt; FRC 레벨 (모든 도로) : 반지름 및 가로/세로 20km 이내 제한</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>regionId 필터링에 대한 응답은 별도 요청에 한하여 제공합니다.</p></li>
</ul>
<p>해당 제한을 따르지 않은 요청에 대해서는 정상 응답을 하지 않으니 이에 유의 하시기 바랍니다 (오류 응답)</p>
</div>
<div class="section" id="id6">
<h3>6.1.3. Geo Filtering 예제<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Geo filter 는 모든 교통 정보 데이터 검색 요청의 필수 요소 입니다. 아래에 나온 필터의 종류에 따른 URL sample 을 참고하여 원하는 영역에 대한 필터링 조건을 설정하고 해당 URL 의 뒤에 세부 요청 파라미터를 추가하는 형태로 API 호출이 진행 됩니다.</p>
<ul class="simple">
<li><p>region 의 경우 별도 채널을 통해 인증 받은 사용자만 사용 가능 합니다.</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 9%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Filter</p></th>
<th class="head"><p>Method</p></th>
<th class="head"><p>URL Sample</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>box</p></td>
<td><p><strong>GET</strong></p></td>
<td><p><cite>/endpoint?geoFilter=box&amp;corner1={gps}&amp;corner2={gps}</cite></p></td>
</tr>
<tr class="row-odd"><td><p>circle</p></td>
<td><p><strong>GET</strong></p></td>
<td><p><cite>/endpoint?geoFilter=circle&amp;center={gps}&amp;radius={km}</cite></p></td>
</tr>
<tr class="row-even"><td><p>polygon</p></td>
<td><p><strong>GET</strong></p></td>
<td><p><cite>/endpoint?geoFilter=polygon&amp;points={gps}|{gps}|{gps}|…</cite></p></td>
</tr>
<tr class="row-odd"><td><p>pos</p></td>
<td><p><strong>GET</strong></p></td>
<td><p><cite>/endpoint?geoFilter=pos&amp;point={gps}</cite></p></td>
</tr>
<tr class="row-even"><td><p>centerpointBox</p></td>
<td><p><strong>GET</strong></p></td>
<td><p><cite>/endpoint?geoFilter=centerpointBox&amp;center={gps}&amp;height={km}</cite>\
<cite>&amp;length={km}</cite></p></td>
</tr>
<tr class="row-odd"><td><p>region</p></td>
<td><p><strong>GET</strong></p></td>
<td><p><cite>/endpoint?geoFilter=region&amp;regionId={region ID}</cite></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="ruut">
<h2>6.2. RUUT<a class="headerlink" href="#ruut" title="Permalink to this headline">¶</a></h2>
<p>RUUT 플랫폼에서 자체적으로 제공하고 있는 API 구성을 설명 합니다. RUUT API 는 크게 Segement 와 Incident 로 구성 되어 있습니다. Segement 는 실시간 교통 정보 검색에 사용되며, Incident 는 실시간 이벤트 (사고, 공사, 재해 등) 검색에 사용됩니다. TPEG2 데이터 검색은 TPEG2 섹션을 참고 하시기 바랍니다.</p>
<div class="section" id="segment">
<h3>6.2.1. Segment<a class="headerlink" href="#segment" title="Permalink to this headline">¶</a></h3>
<p>RUUT API 의 path 파라미터로 사용되는 segment 는 실시간 교통 정보를 요청 하기 위해 사용 됩니다. 해당 교통 정보에 이벤트 (사고, 재해, 공사등)정보는 포함되지 않습니다. 이벤트 정보는 아래 incident 를 참조하시기 바랍니다.</p>
<p><strong>Segment Request</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>GET</strong></p></td>
<td><p><cite>/ruut/{version}/segments?{geo-query}?{set of parameters}</cite></p></td>
</tr>
</tbody>
</table>
<p>RUUT API 에 대한 요청은 위와 같은 URL로 구성 됩니다. 앞서 언급한 바와 같이 goe filter 를 먼저 URL 에 추가한 후 아래 Request Parameters 를 추가 입력하면 됩니다.</p>
<div class="section" id="segment-request-parameters">
<h4>6.2.1.1. Segment Request Parameters<a class="headerlink" href="#segment-request-parameters" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 8%" />
<col style="width: 15%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Params</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rttiField</p></td>
<td><p>String</p></td>
<td><p>speed</p></td>
<td><p>현재 측정 속도 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>limit</p></td>
<td><p>세그먼트 제한 속도 반환</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>travletime</p></td>
<td><p>세그먼트 횡단 평균 시간 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>freeflow</p></td>
<td><p>정체 없을 시 속도 반환</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>all(default)</p></td>
<td><p>모든 필드 반환</p></td>
</tr>
<tr class="row-odd"><td><p>frc</p></td>
<td><p>Integer</p></td>
<td><p>frc</p></td>
<td><p>FRC 등급이 같은 항목만 반환 (쉼표 나누어 여러 개의 등급 명시 가능)</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>all(default)</p></td>
<td><p>모든 FRC 등급 데이터 반환</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>String</p></td>
<td><p>openlr</p></td>
<td><p>위치 참조 정보로 openLR 인코딩 정보 반환</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>agorac</p></td>
<td><p>위치 참조 정보로 AGORA-C 인코딩 정보 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>all (default)</p></td>
<td><p>위치 참조 정보로 openLR / AGORA-C 인코딩 정보 반환</p></td>
</tr>
<tr class="row-even"><td><p>lane</p></td>
<td><p>String</p></td>
<td><p>on (default)</p></td>
<td><p>차선 단위 교통 정보 활성화</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>off</p></td>
<td><p>차선 단위 교통 정보 비활성화</p></td>
</tr>
<tr class="row-even"><td><p>segmentCoordinates</p></td>
<td><p>String</p></td>
<td><p>on (default)</p></td>
<td><p>제공 세그먼트의 시작/끝 노드의 GPS 좌표 정보 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>off</p></td>
<td><p>세그먼트 GPS 정보 반환 않음</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="segment-response-elements">
<h4>6.2.1.2. Segment Response Elements<a class="headerlink" href="#segment-response-elements" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>응답은 하나 이상의 segment 로 구성 되며 JSON array 형태로 구성 됩니다.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 9%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>segmentId</p></td>
<td><p>String</p></td>
<td><p>세그먼트의 ID</p></td>
</tr>
<tr class="row-odd"><td><p>roadCategory</p></td>
<td><p>String</p></td>
<td><p>세그먼트의 도로 레벨</p></td>
</tr>
<tr class="row-even"><td><p>speed</p></td>
<td><p>Integer</p></td>
<td><p>세그먼트의 측정 차량 속도</p></td>
</tr>
<tr class="row-odd"><td><p>limit</p></td>
<td><p>Integer</p></td>
<td><p>세그먼트의 제한 속도</p></td>
</tr>
<tr class="row-even"><td><p>freeflow</p></td>
<td><p>Integer</p></td>
<td><p>세그먼트 정체 없을 경우 차량 평균 속도</p></td>
</tr>
<tr class="row-odd"><td><p>traveltime</p></td>
<td><p>String</p></td>
<td><p>세그먼트를 관통 하는데 걸리는 시간 (초)</p></td>
</tr>
<tr class="row-even"><td><p>openLR</p></td>
<td><p>String</p></td>
<td><p>위치 참조를 위한 openLR encoded code</p></td>
</tr>
<tr class="row-odd"><td><p>agoraC</p></td>
<td><p>String</p></td>
<td><p>위치 참조를 위한 AGORA-C encoded code</p></td>
</tr>
<tr class="row-even"><td><p>lane</p></td>
<td><p>Array</p></td>
<td><p>차선 교통 정보 제공을 위한 배열 객체</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>laneNumber</p></li>
</ul>
</td>
<td><p>String</p></td>
<td><p>차선 번호 (안쪽 차선부터 1차선)</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>laneSpeed</p></li>
</ul>
</td>
<td><p>Integer</p></td>
<td><p>laneNumber 로 특정된 차선의 측정 속도</p></td>
</tr>
<tr class="row-odd"><td><p>segmentCoordinates</p></td>
<td><p>Object</p></td>
<td><p>segment nodes 에 대한 GPS 좌표 제공 (양 끝 노드)</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>point1</p></li>
</ul>
</td>
<td><p>Object</p></td>
<td><p>node 1 에 대한 GPS 좌표 컨테이너</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><ul>
<li><p>lat</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>node 1 에 대한 GPS 위도</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><ul>
<li><p>lon</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>node 1 에 대한 GPS 경도</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>point2</p></li>
</ul>
</td>
<td><p>Object</p></td>
<td><p>node 2 에 대한 GPS 좌표 컨테이너</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><ul>
<li><p>lat</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>node 2 에 대한 GPS 위도</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><ul>
<li><p>lon</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>node 2 에 대한 GPS 경도</p></td>
</tr>
<tr class="row-even"><td><p>timeStamp</p></td>
<td><p>Datetime</p></td>
<td><p>정보 생성 시간</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="segment-request-response-example">
<h4>6.2.1.3. Segment Request/Response Example<a class="headerlink" href="#segment-request-response-example" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="skt.html#segment-example"><span class="std std-ref">RUUT API Segment 요청/응답 예제</span></a> 를 참고 하시기 바랍니다.</p>
</div>
</div>
<div class="section" id="incident">
<h3>6.2.2. Incident<a class="headerlink" href="#incident" title="Permalink to this headline">¶</a></h3>
<p>RUUT API 의 path 파라미터로 사용되는 incident 는 도로 상의 이벤트인 사고, 재해, 공사, 일정, 통제 정보를 제공 합니다. 앞서 설명된 segment 와 마찬가지로 incident 의 query 파라미터 또한 Geo filtering 파라미터와 더불어 사용 됩니다.</p>
<p><strong>Incident Request</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>GET</strong></p></td>
<td><p><cite>/ruut/{version}/incidents?{geo-query}?{set of parameters}</cite></p></td>
</tr>
</tbody>
</table>
<p>RUUT API 에 대한 요청은 위와 같은 URL로 구성 됩니다. 앞서 언급한 바와 같이 goe filter 를 먼저 URL 에 추가한 후 아래 Request Parameters 를 추가 입력하면 됩니다.</p>
<div class="section" id="request-parameters">
<h4>6.2.2.1. Request Parameters<a class="headerlink" href="#request-parameters" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 9%" />
<col style="width: 17%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Params</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>incidentField</p></td>
<td><p>String</p></td>
<td><p>lane</p></td>
<td><p>이벤트 발생 차선 정보 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>length</p></td>
<td><p>이벤트가 영향을 미치는 물리적 범위 (미터) 반환</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>vehicleKind</p></td>
<td><p>이벤트 차량 종류 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>description</p></td>
<td><p>이벤트 세부 정보 문자열 반환</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>all(default)</p></td>
<td><p>모든 필드 반환</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>String</p></td>
<td><p>openlr</p></td>
<td><p>위치 참조 정보로 openLR 인코딩 정보 반환</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>agorac</p></td>
<td><p>위치 참조 정보로 AGORA-C 인코딩 정보 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>all (default)</p></td>
<td><p>위치 참조 정보로 openLR / AGORA-C 인코딩 정보 반환</p></td>
</tr>
<tr class="row-even"><td><p>segmentCoordinates</p></td>
<td><p>String</p></td>
<td><p>on (default)</p></td>
<td><p>제공 세그먼트의 시작/끝 노드의 GPS 좌표 정보 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>off</p></td>
<td><p>세그먼트 GPS 정보 반환 않음</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="response-elements">
<h4>6.2.2.2. Response Elements<a class="headerlink" href="#response-elements" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>응답은 하나 이상의 segment 로 구성 되며 JSON array 형태로 구성 됩니다.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 8%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>segmentId</p></td>
<td><p>String</p></td>
<td><p>세그먼트의 ID</p></td>
</tr>
<tr class="row-odd"><td><p>incidentId</p></td>
<td><p>String</p></td>
<td><p>이벤트의 ID</p></td>
</tr>
<tr class="row-even"><td><p>incidentType</p></td>
<td><p>String</p></td>
<td><p>이벤트의 타입 (A:사고, B:공사, C:행사, D:재해, E:통제)</p></td>
</tr>
<tr class="row-odd"><td><p>lane</p></td>
<td><p>Integer</p></td>
<td><p>이벤트 발생 차선 정보</p></td>
</tr>
<tr class="row-even"><td><p>vehicleKind</p></td>
<td><p>String</p></td>
<td><p>사고 차량 종류</p></td>
</tr>
<tr class="row-odd"><td><p>description</p></td>
<td><p>String</p></td>
<td><p>이벤트 세부 정보 설명 문자열</p></td>
</tr>
<tr class="row-even"><td><p>schedule</p></td>
<td><p>Object</p></td>
<td><p>이벤트에 일정에 있을 때 제공되는 오브젝트 (이벤트 일정이 있는 경우에만 기본 제공)</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>isPlanned</p></li>
</ul>
</td>
<td><p>String</p></td>
<td><p>계획된 이벤트인지 여부</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>startTime</p></li>
</ul>
</td>
<td><p>Datetime</p></td>
<td><p>이벤트 개시 시점</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>endTime</p></li>
</ul>
</td>
<td><p>Datetime</p></td>
<td><p>이벤트 종료 시점</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>reoccuring</p></li>
</ul>
</td>
<td><p>Object</p></td>
<td><p>반복 이벤트인지 여부에 따라 제공되는 오브젝트</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>daysOfWeek</p></li>
</ul>
</td>
<td><p>String</p></td>
<td><p>일주일 중 언제 반복 발생하는지</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><ul>
<li><p>from</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>반복 이벤트 시작 시점</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><ul>
<li><p>until</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>반복 이벤트 종료 시점</p></td>
</tr>
<tr class="row-even"><td><p>openLR</p></td>
<td><p>String</p></td>
<td><p>위치 참조를 위한 openLR encoded code</p></td>
</tr>
<tr class="row-odd"><td><p>agoraC</p></td>
<td><p>String</p></td>
<td><p>위치 참조를 위한 AGORA-C encoded code</p></td>
</tr>
<tr class="row-even"><td><p>segmentCoordinates</p></td>
<td><p>Object</p></td>
<td><p>segment nodes 에 대한 GPS 좌표 제공 (양 끝 노드)</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>point1</p></li>
</ul>
</td>
<td><p>Object</p></td>
<td><p>node 1 에 대한 GPS 좌표 컨테이너</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><ul>
<li><p>lat</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>node 1 에 대한 GPS 위도</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><ul>
<li><p>lon</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>node 1 에 대한 GPS 경도</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>point2</p></li>
</ul>
</td>
<td><p>Object</p></td>
<td><p>node 2 에 대한 GPS 좌표 컨테이너</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><ul>
<li><p>lat</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>node 2 에 대한 GPS 위도</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><ul>
<li><p>lon</p></li>
</ul>
</li>
</ul>
</td>
<td><p>String</p></td>
<td><p>node 2 에 대한 GPS 경도</p></td>
</tr>
<tr class="row-odd"><td><p>timeStamp</p></td>
<td><p>Datetime</p></td>
<td><p>정보 생성 시간</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="request-response-example">
<h4>6.2.2.3. Request/Response Example<a class="headerlink" href="#request-response-example" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="skt.html#incident-example"><span class="std std-ref">RUUT API Incident 요청/응답 예제</span></a> 를 참고 하시기 바랍니다.</p>
</div>
</div>
</div>
<div class="section" id="v2x">
<span id="v2x-apidoc"></span><h2>6.3. V2X<a class="headerlink" href="#v2x" title="Permalink to this headline">¶</a></h2>
<p>RUUT 는 T Map 에서 서비스 되고 있는 V2X 서비스 (응급 차량 출동 알림, 전방 급정거 알림) 및 기타 V2X 서비스의 원시 데이터를 제공 합니다. V2X 데이터는 webhook 방식으로 제공 됩니다.</p>
<ul class="simple">
<li><p>Header</p></li>
</ul>
<table class="table-width-fix table-width-full text-align-justify docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 13%" />
<col style="width: 30%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>option</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>X-Authorization</p></td>
<td><p>string</p></td>
<td><p>{accessToken}</p></td>
<td><p>API Key</p></td>
</tr>
</tbody>
</table>
<div class="section" id="v2x-webhook">
<h3>6.3.1. V2X Webhook 관리<a class="headerlink" href="#v2x-webhook" title="Permalink to this headline">¶</a></h3>
<p>V2X 서비스 데이터를 획득 하려면 각 서비스의 유형에 맞는 Webhook URL 을 등록 합니다. 사용자는 Webhook URL의 등록/조회/삭제를 수행할 수 있습니다.</p>
<div class="section" id="webhook-url">
<h4>6.3.1.1. Webhook URL 등록<a class="headerlink" href="#webhook-url" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>POST</strong></p></td>
<td><p><cite>/ruut/{version}/hooks</cite></p></td>
</tr>
</tbody>
</table>
<p><strong>Request Body</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>key</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>String</p></td>
<td><p>url</p></td>
<td><p>hook_url</p></td>
<td><p>V2X webhook 을 수신할 URL</p></td>
</tr>
<tr class="row-odd"><td><p>String</p></td>
<td><p>locationReference</p></td>
<td><p>openLR</p></td>
<td><p>위치 참조 타입 openLR 명시</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>agoraC</p></td>
<td><p>위치 참조 타입 AGORA-C 명시</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>segmentID</p></td>
<td><p>위치 참조 타입 Segment ID 명시 (RUUT 자체 타입)</p></td>
</tr>
<tr class="row-even"><td><p>String List</p></td>
<td><p>events</p></td>
<td><p>emergencyVehicle</p></td>
<td><p>응급 차량 알림 메시지 수신</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>otherEvents</p></td>
<td><p>급정거 알림 및 기타 알림 메시지 수신</p></td>
</tr>
</tbody>
</table>
<p><strong>Request Example</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="s2">&quot;http://v2xhook.test&quot;</span><span class="p">,</span>
  <span class="nt">&quot;locationReference&quot;</span><span class="p">:</span><span class="s2">&quot;openLR&quot;</span><span class="p">,</span>
  <span class="nt">&quot;events&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;emergencyVehicle&quot;</span><span class="p">,</span> <span class="s2">&quot;otherEvents&quot;</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h4>6.3.1.2. Webhook URL 조회<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>Header 를 통해 권한 인증 후 해당 사용자가 등록한 Hook URL 을 반환합니다.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>GET</strong></p></td>
<td><p><cite>/ruut/{version}/hooks</cite></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id8">
<h4>6.3.1.3. Webhook URL 삭제<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>Header 를 통해 권한 인증 후 해당 사용자가 등록한 Hook URL 을 삭제합니다.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>GET</strong></p></td>
<td><p><cite>/ruut/{version}/hooks</cite></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="v2x-incoming-webhook">
<span id="v2xincoming"></span><h3>6.3.2. V2X Incoming Webhook 명세<a class="headerlink" href="#v2x-incoming-webhook" title="Permalink to this headline">¶</a></h3>
<p>V2X 이벤트가 발생하면 사용자가 등록한 Webhook URL로 Webhook 이 전송 됩니다. 해당 Incoming Webhook 은 3가지 종류로 구분됩니다.</p>
<ul class="simple">
<li><p>응급 차량 이동 알림</p></li>
<li><p>응급 차량 목적지 (재난지) 정보 알림</p></li>
<li><p>급정거 알림 및 기타 V2X 이벤트 알림</p></li>
</ul>
<div class="section" id="id9">
<h4>6.3.2.1. 응급 차량 목적지 (재난지) 정보 알림<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p><strong>Webhook Payload Elements</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 9%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dsrID</p></td>
<td><p>String</p></td>
<td><p>재난 정보 ID</p></td>
</tr>
<tr class="row-odd"><td><p>provider</p></td>
<td><p>String</p></td>
<td><p>재난 정보 제공자</p></td>
</tr>
<tr class="row-even"><td><p>dsrType</p></td>
<td><p>String</p></td>
<td><p>재난 유형</p></td>
</tr>
<tr class="row-odd"><td><p>startTime</p></td>
<td><p>String</p></td>
<td><p>재난 발생 시간</p></td>
</tr>
<tr class="row-even"><td><p>endTime</p></td>
<td><p>String</p></td>
<td><p>재난 종료 시간</p></td>
</tr>
<tr class="row-odd"><td><p>locationReference</p></td>
<td><p>String</p></td>
<td><p>재난 위치의 위치 참조 코드 (openLR, AGORA-C, segment ID 중 택일)</p></td>
</tr>
<tr class="row-even"><td><p>locationOfDisaster</p></td>
<td><p>String</p></td>
<td><p>재난 위치 GPS 정보 배열</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>lat</p></li>
</ul>
</td>
<td><p>String</p></td>
<td><p>재난 위치 위도</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>lon</p></li>
</ul>
</td>
<td><p>String</p></td>
<td><p>재난 위치 경도</p></td>
</tr>
<tr class="row-odd"><td><p>timeStamp</p></td>
<td><p>String</p></td>
<td><p>정보 생성 시간</p></td>
</tr>
</tbody>
</table>
<p><strong>Webhook Payload Example</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;dsrID&quot;</span><span class="p">:</span> <span class="s2">&quot;h4dkdeekd3&quot;</span><span class="p">,</span>
  <span class="nt">&quot;provider&quot;</span> <span class="p">:</span> <span class="s2">&quot;소방 방재청&quot;</span><span class="p">,</span>
  <span class="nt">&quot;disasterType&quot;</span><span class="p">:</span> <span class="s2">&quot;사고&quot;</span><span class="p">,</span>
  <span class="nt">&quot;startTime&quot;</span> <span class="p">:</span> <span class="s2">&quot;20200116081953&quot;</span><span class="p">,</span>
  <span class="nt">&quot;endTime&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;locationReference&quot;</span> <span class="p">:</span> <span class="s2">&quot;C1pkKRqXySOPAAAA//IjDw==&quot;</span><span class="p">,</span>
  <span class="nt">&quot;locationOfDisaster&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;lat&quot;</span><span class="p">:</span> <span class="s2">&quot;37.396133&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lon&quot;</span><span class="p">:</span> <span class="s2">&quot;127.112698&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-01-16 19:59:00&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h4>6.3.2.2. 응급 차량 이동 알림<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<p><strong>Webhook Payload Elements</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 9%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>plateNumber</p></td>
<td><p>String</p></td>
<td><p>응급 출동 차량 번호</p></td>
</tr>
<tr class="row-odd"><td><p>dsrID</p></td>
<td><p>String</p></td>
<td><p>재난 정보 ID</p></td>
</tr>
<tr class="row-even"><td><p>distToDsr</p></td>
<td><p>String</p></td>
<td><p>응급 출동 차량으로부터 재난지 까지의 잔여 거리</p></td>
</tr>
<tr class="row-odd"><td><p>locationReference</p></td>
<td><p>String</p></td>
<td><p>응급 출동 차량 위치 참조 코드 (openLR, AGORA-C, segment ID 중 택일)</p></td>
</tr>
<tr class="row-even"><td><p>locationOfDisaster</p></td>
<td><p>String</p></td>
<td><p>응급 출동 차량 GPS 정보 배열</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>lat</p></li>
</ul>
</td>
<td><p>String</p></td>
<td><p>응급 출동 차량 위도</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>lon</p></li>
</ul>
</td>
<td><p>String</p></td>
<td><p>응급 출동 차량 경도</p></td>
</tr>
<tr class="row-odd"><td><p>timeStamp</p></td>
<td><p>String</p></td>
<td><p>정보 생성 시간</p></td>
</tr>
</tbody>
</table>
<p><strong>Webhook Payload Example</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;plateNumber&quot;</span> <span class="p">:</span> <span class="s2">&quot;73무8261&quot;</span><span class="p">,</span>
  <span class="nt">&quot;dsrID&quot;</span><span class="p">:</span> <span class="s2">&quot;UO4409579157&quot;</span><span class="p">,</span>
  <span class="nt">&quot;distToDsr&quot;</span> <span class="p">:</span> <span class="s2">&quot;21844&quot;</span><span class="p">,</span>
  <span class="nt">&quot;locationReference&quot;</span> <span class="p">:</span> <span class="s2">&quot;d1pkKRqXySOPAAAA//IjDw==&quot;</span><span class="p">,</span>
  <span class="nt">&quot;locationOfDisaster&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;lat&quot;</span><span class="p">:</span> <span class="s2">&quot;37.396133&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lon&quot;</span><span class="p">:</span> <span class="s2">&quot;127.112698&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-01-16 19:59:00&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h4>6.3.2.3. 급정거 알림 및 기타 V2X 이벤트 알림<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<p><strong>Webhook Payload Elements</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>본 메시지는 eventType 에 따라 구분 됩니다.</p>
</div>
<ul class="simple">
<li><p>0 : 급정거</p></li>
<li><p>258 : 정체</p></li>
<li><p>513 : 사고</p></li>
<li><p>534 : 정지차</p></li>
<li><p>1281 : 낙하물</p></li>
<li><p>1286 : 보행자</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 9%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>eventId</p></td>
<td><p>String</p></td>
<td><p>이벤트 ID</p></td>
</tr>
<tr class="row-odd"><td><p>eventType</p></td>
<td><p>String</p></td>
<td><p>이벤트 유형</p></td>
</tr>
<tr class="row-even"><td><p>tunnelYn</p></td>
<td><p>String</p></td>
<td><p>이벤트 발생 위치가 터널인지 여부</p></td>
</tr>
<tr class="row-odd"><td><p>roadType</p></td>
<td><p>String</p></td>
<td><p>이벤트 발생 위치의 도로 유형</p></td>
</tr>
<tr class="row-even"><td><p>locationReference</p></td>
<td><p>String</p></td>
<td><p>이벤트 위치 참조 코드 (openLR, AGORA-C, segment ID 중 택일)</p></td>
</tr>
<tr class="row-odd"><td><p>locationOfDisaster</p></td>
<td><p>String</p></td>
<td><p>이벤트 위치 GPS 정보 배열</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>lat</p></li>
</ul>
</td>
<td><p>String</p></td>
<td><p>이벤트 위치 위도</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>lon</p></li>
</ul>
</td>
<td><p>String</p></td>
<td><p>이벤트 위치 경도</p></td>
</tr>
<tr class="row-even"><td><p>timeStamp</p></td>
<td><p>String</p></td>
<td><p>정보 생성 시간</p></td>
</tr>
</tbody>
</table>
<p><strong>Webhook Payload Example</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;eventId&quot;</span><span class="p">:</span> <span class="s2">&quot;4djakdjk2ddk2&quot;</span><span class="p">,</span>
  <span class="nt">&quot;eventType&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tunnelYn&quot;</span> <span class="p">:</span> <span class="s2">&quot;N&quot;</span><span class="p">,</span>
  <span class="nt">&quot;roadType&quot;</span> <span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;locationReference&quot;</span> <span class="p">:</span> <span class="s2">&quot;d1pkKRqXySOPAAAA//IjDw==&quot;</span><span class="p">,</span>
   <span class="nt">&quot;locationOfDisaster&quot;</span><span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;lat&quot;</span><span class="p">:</span> <span class="s2">&quot;37.396133&quot;</span><span class="p">,</span>
     <span class="nt">&quot;lon&quot;</span><span class="p">:</span> <span class="s2">&quot;127.112698&quot;</span>
   <span class="p">},</span>
   <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-01-16 19:59:00&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ruut-tpeg">
<h2>6.4. RUUT TPEG<a class="headerlink" href="#ruut-tpeg" title="Permalink to this headline">¶</a></h2>
<p>RUUT는 자체적으로 TPEG2 표준에 맞는 교통 데이터를 제공하고 있습니다. TPEG2는 기존 TPEG 대비하여 제공 데이터의 정밀도 향상, 교통 정보 범위 확대, 차선 단위 교통정보 제공 기능 추가, 예측 교통 정보 제공을 위한 포맷 강화, Peer to Peer 연동 규격 추가 등을 제공하는 최신 교통 정보 제공 국제 표준입니다. RUUT TPEG2 는 TPEG2 어플리케이션 중 아래 3가지 어플리케이션을 제공합니다.</p>
<ul class="simple">
<li><p>TFP : 실시간 교통 정보</p></li>
<li><p>TEC : 실시간 이벤트(돌발) 정보</p></li>
<li><p>WEA : 날씨 정보</p></li>
</ul>
<div class="section" id="tpeg2">
<h3>6.4.1. TPEG2<a class="headerlink" href="#tpeg2" title="Permalink to this headline">¶</a></h3>
<p><strong>TPEG2 Request</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>GET</strong></p></td>
<td><p><cite>/ruut/{version}/tpeg/getMessage?{geo-query}?{set of parameters}</cite></p></td>
</tr>
</tbody>
</table>
<p>RUUT TPEG 메시지에 대한 요청은 위와 같은 URL로 구성 됩니다. 앞서 언급한 바와 같이 goe filter 를 먼저 URL 에 추가한 후 아래 Request Parameters 를 추가 입력하면 됩니다.</p>
<div class="section" id="request-parameters-tpeg2">
<h4>6.4.1.1. Request Parameters (TPEG2)<a class="headerlink" href="#request-parameters-tpeg2" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 8%" />
<col style="width: 18%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Params</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>frc</p></td>
<td><p>Integer</p></td>
<td><p>frc</p></td>
<td><p>FRC 등급이 같은 항목만 반환 (쉼표 나누어 여러 개의 등급 명시 가능)</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>all (default)</p></td>
<td><p>모든 FRC 등급 데이터 반환</p></td>
</tr>
<tr class="row-even"><td><p>format</p></td>
<td><p>String</p></td>
<td><p>base64xml (default)</p></td>
<td><p>TPEG 메시지를 base64 로 인코딩 한 후 xml 컨테이너로 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>tepgML</p></td>
<td><p>TPEG 메시지를 TPEG-ML 로 반환</p></td>
</tr>
<tr class="row-even"><td><p>app</p></td>
<td><p>String</p></td>
<td><p>tfp (default)</p></td>
<td><p>TPEG2 TFP 어플리케이션 반환</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>tec</p></td>
<td><p>TEPG2 TEC 어플리케이션 반환</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>wea</p></td>
<td><p>TEPG2 WEA 어플리케이션 반환</p></td>
</tr>
<tr class="row-odd"><td><p>delta</p></td>
<td><p>String</p></td>
<td><p>on</p></td>
<td><p>이전 요청에서 변경된 데이터만 반환 (델타 업데이트)</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>off</p></td>
<td><p>매 요청 시 모든 세그먼트 데이터 반환 (전체 업데이트)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="response-formats-tpeg2">
<h4>6.4.1.2. Response Formats (TPEG2)<a class="headerlink" href="#response-formats-tpeg2" title="Permalink to this headline">¶</a></h4>
<p>TEPG2 요청에 대한 응답은 2 가지 형태로 제공 됩니다.</p>
<ul class="simple">
<li><p>TPEG2 Message Binary (Base64 Encoding 후 XML 전송)</p></li>
<li><p>TPEG2 ML (TPEG proprietary ML)</p></li>
</ul>
<p>각 응답 포맷에 대한 세부 사항은 TPEG2 표준 문서를 참고 하시기 바랍니다.</p>
</div>
<div class="section" id="id12">
<h4>6.4.1.3. Request/Response Example<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="tpeg.html#tfp-example"><span class="std std-ref">TFP 요청 응답 예제</span></a>, <a class="reference internal" href="tpeg.html#tec-example"><span class="std std-ref">TEC 요청 응답 예제</span></a>, <a class="reference internal" href="tpeg.html#wea-example"><span class="std std-ref">WEA 요청 응답 예제</span></a>, <a class="reference internal" href="tpeg.html#tpeg-mix-example"><span class="std std-ref">TPEG 조합 요청 응답 예제</span></a> 를 참고 하시기 바랍니다.</p>
</div>
</div>
</div>
<div class="section" id="errors">
<h2>6.5. Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h2>
<p>RUUT API 호출 중 발생하는 에러 코드에 대한 안내</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 73%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>코드</p></th>
<th class="head"><p>메시지</p></th>
<th class="head"><p>HTTP Response</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ER40001</p></td>
<td><p>Invalid inputs (parameters, formats, …)</p></td>
<td><p>400</p></td>
</tr>
<tr class="row-odd"><td><p>ER40101</p></td>
<td><p>Authorization failure</p></td>
<td><p>401</p></td>
</tr>
<tr class="row-even"><td><p>ER42901</p></td>
<td><p>Too many requests</p></td>
<td><p>429</p></td>
</tr>
<tr class="row-odd"><td><p>ER99999</p></td>
<td><p>System errors</p></td>
<td><p>500</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="id13"><span class="brackets"><a class="fn-backref" href="#id4">1</a></span></dt>
<dd><p>행정 구역 코드는 별도로 안내.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="format.html" class="btn btn-neutral float-left" title="5. 메시지 포맷" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright SK TELECOM.LTD. ALL RIGHTS RESERVED.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>